{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ManageOrders=()=>{const[orders,setOrders]=useState([]);// Fetch orders from API when the component mounts\nuseEffect(()=>{fetchOrders();},[]);const fetchOrders=async()=>{try{const response=await axios.get('/api/orders/');// Adjust this URL based on your backend API\nsetOrders(response.data);}catch(error){console.error('Error fetching orders:',error);}};const handleDelete=async orderId=>{const confirmDelete=window.confirm('Are you sure you want to delete this order?');if(!confirmDelete)return;try{await axios.delete(`/api/orders/${orderId}/`);// Adjust this URL based on your backend API\nsetOrders(orders.filter(order=>order.id!==orderId));// Remove the deleted order from the state\n}catch(error){console.error('Error deleting order:',error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Manage Orders\"}),/*#__PURE__*/_jsxs(\"table\",{border:\"1\",cellPadding:\"10\",cellSpacing:\"0\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Order ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.length>0?orders.map(order=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order.id}),/*#__PURE__*/_jsx(\"td\",{children:order.user.username}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20B9\",order.total_amount]}),/*#__PURE__*/_jsx(\"td\",{children:order.status}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:`/orders/${order.id}`,className:\"btn btn-primary\",style:{marginRight:'10px'},children:\"View\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>handleDelete(order.id),children:\"Delete\"})]})]},order.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",children:\"No orders found.\"})})})]})]});};export default ManageOrders;","map":{"version":3,"names":["React","useEffect","useState","Link","axios","jsx","_jsx","jsxs","_jsxs","ManageOrders","orders","setOrders","fetchOrders","response","get","data","error","console","handleDelete","orderId","confirmDelete","window","confirm","delete","filter","order","id","children","border","cellPadding","cellSpacing","length","map","user","username","total_amount","status","to","className","style","marginRight","onClick","colSpan"],"sources":["/Users/kunwarkanhaiyakamlakantpandey/Downloads/project of harit kranti/harit_aahar1/frontend/src/services/ManageOrders.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nconst ManageOrders = () => {\n  const [orders, setOrders] = useState([]);\n\n  // Fetch orders from API when the component mounts\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n\n  const fetchOrders = async () => {\n    try {\n      const response = await axios.get('/api/orders/');  // Adjust this URL based on your backend API\n      setOrders(response.data);\n    } catch (error) {\n      console.error('Error fetching orders:', error);\n    }\n  };\n\n  const handleDelete = async (orderId) => {\n    const confirmDelete = window.confirm('Are you sure you want to delete this order?');\n    if (!confirmDelete) return;\n\n    try {\n      await axios.delete(`/api/orders/${orderId}/`);  // Adjust this URL based on your backend API\n      setOrders(orders.filter(order => order.id !== orderId));  // Remove the deleted order from the state\n    } catch (error) {\n      console.error('Error deleting order:', error);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Manage Orders</h1>\n      <table border=\"1\" cellPadding=\"10\" cellSpacing=\"0\">\n        <thead>\n          <tr>\n            <th>Order ID</th>\n            <th>User</th>\n            <th>Total Amount</th>\n            <th>Status</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {orders.length > 0 ? (\n            orders.map((order) => (\n              <tr key={order.id}>\n                <td>{order.id}</td>\n                <td>{order.user.username}</td>\n                <td>â‚¹{order.total_amount}</td>\n                <td>{order.status}</td>\n                <td>\n                  <Link to={`/orders/${order.id}`} className=\"btn btn-primary\" style={{ marginRight: '10px' }}>\n                    View\n                  </Link>\n                  <button \n                    className=\"btn btn-danger\" \n                    onClick={() => handleDelete(order.id)}\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))\n          ) : (\n            <tr>\n              <td colSpan=\"5\">No orders found.</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default ManageOrders;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAExC;AACAD,SAAS,CAAC,IAAM,CACdW,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACU,GAAG,CAAC,cAAc,CAAC,CAAG;AACnDH,SAAS,CAACE,QAAQ,CAACE,IAAI,CAAC,CAC1B,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CACF,CAAC,CAED,KAAM,CAAAE,YAAY,CAAG,KAAO,CAAAC,OAAO,EAAK,CACtC,KAAM,CAAAC,aAAa,CAAGC,MAAM,CAACC,OAAO,CAAC,6CAA6C,CAAC,CACnF,GAAI,CAACF,aAAa,CAAE,OAEpB,GAAI,CACF,KAAM,CAAAhB,KAAK,CAACmB,MAAM,CAAC,eAAeJ,OAAO,GAAG,CAAC,CAAG;AAChDR,SAAS,CAACD,MAAM,CAACc,MAAM,CAACC,KAAK,EAAIA,KAAK,CAACC,EAAE,GAAKP,OAAO,CAAC,CAAC,CAAG;AAC5D,CAAE,MAAOH,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CACF,CAAC,CAED,mBACER,KAAA,QAAAmB,QAAA,eACErB,IAAA,OAAAqB,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBnB,KAAA,UAAOoB,MAAM,CAAC,GAAG,CAACC,WAAW,CAAC,IAAI,CAACC,WAAW,CAAC,GAAG,CAAAH,QAAA,eAChDrB,IAAA,UAAAqB,QAAA,cACEnB,KAAA,OAAAmB,QAAA,eACErB,IAAA,OAAAqB,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBrB,IAAA,OAAAqB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbrB,IAAA,OAAAqB,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBrB,IAAA,OAAAqB,QAAA,CAAI,QAAM,CAAI,CAAC,cACfrB,IAAA,OAAAqB,QAAA,CAAI,SAAO,CAAI,CAAC,EACd,CAAC,CACA,CAAC,cACRrB,IAAA,UAAAqB,QAAA,CACGjB,MAAM,CAACqB,MAAM,CAAG,CAAC,CAChBrB,MAAM,CAACsB,GAAG,CAAEP,KAAK,eACfjB,KAAA,OAAAmB,QAAA,eACErB,IAAA,OAAAqB,QAAA,CAAKF,KAAK,CAACC,EAAE,CAAK,CAAC,cACnBpB,IAAA,OAAAqB,QAAA,CAAKF,KAAK,CAACQ,IAAI,CAACC,QAAQ,CAAK,CAAC,cAC9B1B,KAAA,OAAAmB,QAAA,EAAI,QAAC,CAACF,KAAK,CAACU,YAAY,EAAK,CAAC,cAC9B7B,IAAA,OAAAqB,QAAA,CAAKF,KAAK,CAACW,MAAM,CAAK,CAAC,cACvB5B,KAAA,OAAAmB,QAAA,eACErB,IAAA,CAACH,IAAI,EAACkC,EAAE,CAAE,WAAWZ,KAAK,CAACC,EAAE,EAAG,CAACY,SAAS,CAAC,iBAAiB,CAACC,KAAK,CAAE,CAAEC,WAAW,CAAE,MAAO,CAAE,CAAAb,QAAA,CAAC,MAE7F,CAAM,CAAC,cACPrB,IAAA,WACEgC,SAAS,CAAC,gBAAgB,CAC1BG,OAAO,CAAEA,CAAA,GAAMvB,YAAY,CAACO,KAAK,CAACC,EAAE,CAAE,CAAAC,QAAA,CACvC,QAED,CAAQ,CAAC,EACP,CAAC,GAfEF,KAAK,CAACC,EAgBX,CACL,CAAC,cAEFpB,IAAA,OAAAqB,QAAA,cACErB,IAAA,OAAIoC,OAAO,CAAC,GAAG,CAAAf,QAAA,CAAC,kBAAgB,CAAI,CAAC,CACnC,CACL,CACI,CAAC,EACH,CAAC,EACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}