{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useLocation,useNavigate}from'react-router-dom';import axios from'axios';import{getCSRFToken}from'../auth/AuthUtils';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_URL||\"http://127.0.0.1:8000\";console.log(\"🔹 API Base URL:\",API_BASE_URL);const Checkout=()=>{const[cartItems,setCartItems]=useState([]);const[totalPrice,setTotalPrice]=useState(0);const[selectedAddress,setSelectedAddress]=useState(null);const[userInfo,setUserInfo]=useState(null);const[addresses,setAddresses]=useState([]);const navigate=useNavigate();const location=useLocation();useEffect(()=>{fetchUserProfile();fetchCartItems();},[location]);// ✅ Fetch user details and addresses from API\nconst fetchUserProfile=async()=>{try{const csrfToken=await getCSRFToken();const authToken=localStorage.getItem(\"authToken\");const response=await axios.get(`${API_BASE_URL}/api/auth/profile/`,{headers:{\"X-CSRFToken\":csrfToken,\"Authorization\":authToken?`Token ${authToken}`:\"\",\"Content-Type\":\"application/json\"},withCredentials:true});console.log(\"✅ User Profile:\",response.data);setUserInfo(response.data);setAddresses(response.data.addresses||[]);// ✅ Set the selected address from the cart\nconst queryParams=new URLSearchParams(location.search);const addressId=queryParams.get('address_id');if(addressId){const selectedAddr=response.data.addresses.find(addr=>addr.id.toString()===addressId);setSelectedAddress(selectedAddr||null);}}catch(error){var _error$response;console.error(\"🚨 Error fetching user profile:\",((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error);alert(\"❌ Failed to load profile. Redirecting to login...\");navigate(\"/login\");}};// ✅ Load cart items\nconst fetchCartItems=()=>{const storedCartItems=JSON.parse(localStorage.getItem('cart'))||[];setCartItems(storedCartItems);const total=storedCartItems.reduce((sum,item)=>sum+item.price*item.quantity,0);setTotalPrice(total);};const handlePayment=async()=>{try{const csrfToken=await getCSRFToken();const authToken=localStorage.getItem(\"authToken\");const response=await axios.post(`${API_BASE_URL}/api/create_razorpay_order/`,{amount:totalPrice},{headers:{\"X-CSRFToken\":csrfToken,\"Authorization\":authToken?`Token ${authToken}`:\"\",\"Content-Type\":\"application/json\"},withCredentials:true});const{order_id,key,amount}=response.data;if(typeof window.Razorpay===\"undefined\"){alert(\"Razorpay SDK failed to load. Please check your internet connection and try again.\");return;}const options={key:key,amount:amount,currency:\"INR\",name:\"Harit Aahar\",description:\"Payment for your order\",order_id:order_id,handler:async function(response){const{razorpay_payment_id,razorpay_order_id,razorpay_signature}=response;try{const verifyResponse=await axios.post(`${API_BASE_URL}/api/verify_payment/`,{razorpay_payment_id,razorpay_order_id,razorpay_signature},{headers:{\"X-CSRFToken\":csrfToken,\"Authorization\":authToken?`Token ${authToken}`:\"\",\"Content-Type\":\"application/json\"},withCredentials:true});if(verifyResponse.data.status===\"success\"){alert(\"Payment successful and verified!\");localStorage.removeItem(\"cart\");navigate(\"/\");}else{alert(\"Payment verification failed. Please contact support.\");}}catch(error){console.error(\"Error verifying payment:\",error);alert(\"An error occurred during payment verification.\");}},prefill:{name:(userInfo===null||userInfo===void 0?void 0:userInfo.name)||\"\",email:(userInfo===null||userInfo===void 0?void 0:userInfo.email)||\"\",contact:(userInfo===null||userInfo===void 0?void 0:userInfo.phone)||\"\"},notes:{address:selectedAddress?`${selectedAddress.address_line1}, ${selectedAddress.city}`:\"\"},theme:{color:\"#28a745\"}};const razorpay=new window.Razorpay(options);razorpay.open();}catch(error){var _error$response2;console.error(\"🚨 Error during payment:\",((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||error);alert(\"Payment initiation failed. Please try again.\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Checkout\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.section,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Information\"}),userInfo?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",userInfo.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone:\"}),\" \",userInfo.phone_number]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",userInfo.email]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading user details...\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.section,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Delivery Address\"}),addresses.length>0?/*#__PURE__*/_jsx(\"ul\",{style:styles.addressList,children:addresses.map(address=>/*#__PURE__*/_jsxs(\"li\",{style:{...styles.addressItem,backgroundColor:(selectedAddress===null||selectedAddress===void 0?void 0:selectedAddress.id)===address.id?'#d4edda':'white'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"address\",value:address.id,checked:(selectedAddress===null||selectedAddress===void 0?void 0:selectedAddress.id)===address.id,onChange:()=>setSelectedAddress(address)}),/*#__PURE__*/_jsx(\"strong\",{children:address.address_line1}),\", \",address.city,\" - \",address.postal_code]},address.id))}):/*#__PURE__*/_jsxs(\"p\",{children:[\"No addresses found. \",/*#__PURE__*/_jsx(\"a\",{href:\"/cart\",children:\"Go back to cart\"}),\" and add an address.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.section,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Order Summary\"}),cartItems.length>0?/*#__PURE__*/_jsx(\"ul\",{style:styles.cartList,children:cartItems.map((item,index)=>/*#__PURE__*/_jsxs(\"li\",{style:styles.cartItem,children:[/*#__PURE__*/_jsx(\"img\",{src:item.image||\"/images/products/default.jpg\",alt:item.name,style:styles.productImage}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:item.name})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \\u20B9\",item.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quantity: \",item.quantity]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: \\u20B9\",(item.price*item.quantity).toFixed(2)]})]})]},index))}):/*#__PURE__*/_jsx(\"p\",{children:\"Your cart is empty.\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.section,children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Total Price: \\u20B9\",totalPrice.toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePayment,style:styles.placeOrderButton,children:\"Place Order\"})]})]});};export default Checkout;const styles={section:{marginBottom:'30px',padding:'20px',border:'1px solid #ddd',borderRadius:'8px',backgroundColor:'#f9f9f9'},addressList:{listStyle:'none',padding:0},addressItem:{padding:'10px',border:'1px solid #ccc',borderRadius:'5px',marginBottom:'10px',cursor:'pointer'},cartList:{listStyle:'none',padding:0},cartItem:{display:'flex',alignItems:'center',marginBottom:'15px'},productImage:{width:'80px',height:'80px',objectFit:'cover',marginRight:'20px',borderRadius:'5px'},placeOrderButton:{padding:'12px 20px',backgroundColor:'#28a745',color:'white',fontSize:'16px',border:'none',borderRadius:'5px',cursor:'pointer'}};","map":{"version":3,"names":["React","useEffect","useState","useLocation","useNavigate","axios","getCSRFToken","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE_URL","process","env","REACT_APP_API_URL","console","log","Checkout","cartItems","setCartItems","totalPrice","setTotalPrice","selectedAddress","setSelectedAddress","userInfo","setUserInfo","addresses","setAddresses","navigate","location","fetchUserProfile","fetchCartItems","csrfToken","authToken","localStorage","getItem","response","get","headers","withCredentials","data","queryParams","URLSearchParams","search","addressId","selectedAddr","find","addr","id","toString","error","_error$response","alert","storedCartItems","JSON","parse","total","reduce","sum","item","price","quantity","handlePayment","post","amount","order_id","key","window","Razorpay","options","currency","name","description","handler","razorpay_payment_id","razorpay_order_id","razorpay_signature","verifyResponse","status","removeItem","prefill","email","contact","phone","notes","address","address_line1","city","theme","color","razorpay","open","_error$response2","children","style","styles","section","phone_number","length","addressList","map","addressItem","backgroundColor","type","value","checked","onChange","postal_code","href","cartList","index","cartItem","src","image","alt","productImage","toFixed","onClick","placeOrderButton","marginBottom","padding","border","borderRadius","listStyle","cursor","display","alignItems","width","height","objectFit","marginRight","fontSize"],"sources":["/Users/kunwarkanhaiyakamlakantpandey/Downloads/project of harit kranti/harit_aahar1/Harit_Aahar/frontend/src/pages/Checkout.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { getCSRFToken } from '../auth/AuthUtils';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || \"http://127.0.0.1:8000\";\nconsole.log(\"🔹 API Base URL:\", API_BASE_URL);\n\nconst Checkout = () => {\n  const [cartItems, setCartItems] = useState([]);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [selectedAddress, setSelectedAddress] = useState(null);\n  const [userInfo, setUserInfo] = useState(null);\n  const [addresses, setAddresses] = useState([]);\n  \n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    fetchUserProfile();\n    fetchCartItems();\n  }, [location]);\n\n  // ✅ Fetch user details and addresses from API\n  const fetchUserProfile = async () => {\n    try {\n      const csrfToken = await getCSRFToken();\n      const authToken = localStorage.getItem(\"authToken\");\n\n      const response = await axios.get(`${API_BASE_URL}/api/auth/profile/`,  {\n        headers: {\n          \"X-CSRFToken\": csrfToken,\n          \"Authorization\": authToken ? `Token ${authToken}` : \"\",\n          \"Content-Type\": \"application/json\",\n        },\n        withCredentials: true,\n      });\n\n      console.log(\"✅ User Profile:\", response.data);\n      setUserInfo(response.data);\n      setAddresses(response.data.addresses || []);\n\n      // ✅ Set the selected address from the cart\n      const queryParams = new URLSearchParams(location.search);\n      const addressId = queryParams.get('address_id');\n      if (addressId) {\n        const selectedAddr = response.data.addresses.find(addr => addr.id.toString() === addressId);\n        setSelectedAddress(selectedAddr || null);\n      }\n    } catch (error) {\n      console.error(\"🚨 Error fetching user profile:\", error.response?.data || error);\n      alert(\"❌ Failed to load profile. Redirecting to login...\");\n      navigate(\"/login\");\n    }\n  };\n\n  // ✅ Load cart items\n  const fetchCartItems = () => {\n    const storedCartItems = JSON.parse(localStorage.getItem('cart')) || [];\n    setCartItems(storedCartItems);\n\n    const total = storedCartItems.reduce((sum, item) => sum + item.price * item.quantity, 0);\n    setTotalPrice(total);\n  };\n  const handlePayment = async () => {\n    try {\n      const csrfToken = await getCSRFToken();\n      const authToken = localStorage.getItem(\"authToken\");\n  \n      const response = await axios.post(\n        `${API_BASE_URL}/api/create_razorpay_order/`, \n        { amount: totalPrice },\n        {\n          headers: {\n            \"X-CSRFToken\": csrfToken,  \n            \"Authorization\": authToken ? `Token ${authToken}` : \"\",\n            \"Content-Type\": \"application/json\",\n          },\n          withCredentials: true, \n        }\n      );\n  \n      const { order_id, key, amount } = response.data;\n  \n      if (typeof window.Razorpay === \"undefined\") {\n        alert(\"Razorpay SDK failed to load. Please check your internet connection and try again.\");\n        return;\n      }\n  \n      const options = {\n        key: key,\n        amount: amount,\n        currency: \"INR\",\n        name: \"Harit Aahar\",\n        description: \"Payment for your order\",\n        order_id: order_id,\n        handler: async function (response) {\n          const { razorpay_payment_id, razorpay_order_id, razorpay_signature } = response;\n  \n          try {\n            const verifyResponse = await axios.post(\n              `${API_BASE_URL}/api/verify_payment/`,\n              { razorpay_payment_id, razorpay_order_id, razorpay_signature },\n              {\n                headers: {\n                  \"X-CSRFToken\": csrfToken, \n                  \"Authorization\": authToken ? `Token ${authToken}` : \"\", \n                  \"Content-Type\": \"application/json\",\n                },\n                withCredentials: true,\n              }\n            );\n  \n            if (verifyResponse.data.status === \"success\") {\n              alert(\"Payment successful and verified!\");\n              localStorage.removeItem(\"cart\");\n              navigate(\"/\");\n            } else {\n              alert(\"Payment verification failed. Please contact support.\");\n            }\n          } catch (error) {\n            console.error(\"Error verifying payment:\", error);\n            alert(\"An error occurred during payment verification.\");\n          }\n        },\n        prefill: {\n          name: userInfo?.name || \"\",\n          email: userInfo?.email || \"\",\n          contact: userInfo?.phone || \"\",\n        },\n        notes: {\n          address: selectedAddress ? `${selectedAddress.address_line1}, ${selectedAddress.city}` : \"\",\n        },\n        theme: {\n          color: \"#28a745\",\n        },\n      };\n  \n      const razorpay = new window.Razorpay(options);\n      razorpay.open();\n    } catch (error) {\n      console.error(\"🚨 Error during payment:\", error.response?.data || error);\n      alert(\"Payment initiation failed. Please try again.\");\n    }\n  };\n  \n  \n    \n  \n  \n\n  return (\n    <div>\n      <h1>Checkout</h1>\n\n      {/* ✅ Display User Information */}\n      <div style={styles.section}>\n        <h2>User Information</h2>\n        {userInfo ? (\n          <>\n            <p><strong>Name:</strong> {userInfo.name}</p>\n            <p><strong>Phone:</strong> {userInfo.phone_number}</p>\n            <p><strong>Email:</strong> {userInfo.email}</p>\n          </>\n        ) : (\n          <p>Loading user details...</p>\n        )}\n      </div>\n\n      {/* ✅ Delivery Address Selection */}\n      <div style={styles.section}>\n        <h2>Delivery Address</h2>\n        {addresses.length > 0 ? (\n          <ul style={styles.addressList}>\n            {addresses.map((address) => (\n              <li key={address.id} style={{ ...styles.addressItem, backgroundColor: selectedAddress?.id === address.id ? '#d4edda' : 'white' }}>\n                <input\n                  type=\"radio\"\n                  name=\"address\"\n                  value={address.id}\n                  checked={selectedAddress?.id === address.id}\n                  onChange={() => setSelectedAddress(address)}\n                />\n                <strong>{address.address_line1}</strong>, {address.city} - {address.postal_code}\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p>No addresses found. <a href=\"/cart\">Go back to cart</a> and add an address.</p>\n        )}\n      </div>\n\n      {/* ✅ Order Summary */}\n      <div style={styles.section}>\n        <h2>Order Summary</h2>\n        {cartItems.length > 0 ? (\n          <ul style={styles.cartList}>\n            {cartItems.map((item, index) => (\n              <li key={index} style={styles.cartItem}>\n                <img src={item.image || \"/images/products/default.jpg\"} alt={item.name} style={styles.productImage} />\n                <div>\n                  <p><strong>{item.name}</strong></p>\n                  <p>Price: ₹{item.price}</p>\n                  <p>Quantity: {item.quantity}</p>\n                  <p>Total: ₹{(item.price * item.quantity).toFixed(2)}</p>\n                </div>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p>Your cart is empty.</p>\n        )}\n      </div>\n\n      {/* ✅ Total Price and Place Order Button */}\n      <div style={styles.section}>\n        <h2>Total Price: ₹{totalPrice.toFixed(2)}</h2>\n        <button onClick={handlePayment} style={styles.placeOrderButton}>Place Order</button>\n      </div>\n    </div>\n  );\n};\n\nexport default Checkout;\n\nconst styles = {\n  section: {\n    marginBottom: '30px',\n    padding: '20px',\n    border: '1px solid #ddd',\n    borderRadius: '8px',\n    backgroundColor: '#f9f9f9',\n  },\n  addressList: {\n    listStyle: 'none',\n    padding: 0,\n  },\n  addressItem: {\n    padding: '10px',\n    border: '1px solid #ccc',\n    borderRadius: '5px',\n    marginBottom: '10px',\n    cursor: 'pointer',\n  },\n  cartList: {\n    listStyle: 'none',\n    padding: 0,\n  },\n  cartItem: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: '15px',\n  },\n  productImage: {\n    width: '80px',\n    height: '80px',\n    objectFit: 'cover',\n    marginRight: '20px',\n    borderRadius: '5px',\n  },\n  placeOrderButton: {\n    padding: '12px 20px',\n    backgroundColor: '#28a745',\n    color: 'white',\n    fontSize: '16px',\n    border: 'none',\n    borderRadius: '5px',\n    cursor: 'pointer',\n  },\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}